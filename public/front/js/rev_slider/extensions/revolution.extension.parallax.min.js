!function(e){"use strict";function t(e,t){e.lastscrolltop=t}var r=jQuery.fn.revolution,a=r.is_mobile(),i={alias:"Parallax Min JS",name:"revolution.extensions.parallax.min.js",min_core:"5.4.5",version:"2.2.3"};jQuery.extend(!0,r,{checkForParallax:function(e,t){function l(e){if("3D"==o.type||"3d"==o.type){e.find(".slotholder").wrapAll('<div class="dddwrapper" style="width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden"></div>'),e.find(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layer" style="width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:5;overflow:'+o.ddd_layer_overflow+';"></div>'),e.find(".rs-parallaxlevel-tobggroup").closest(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layertobggroup" style="position:absolute;top:0px;left:0px;z-index:50;width:100%;height:100%"></div>');var r=e.find(".dddwrapper"),a=e.find(".dddwrapper-layer");e.find(".dddwrapper-layertobggroup").appendTo(r),"carousel"==t.sliderType&&("on"==o.ddd_shadow&&r.addClass("dddwrappershadow"),punchgs.TweenLite.set(r,{borderRadius:t.carousel.border_radius})),punchgs.TweenLite.set(e,{overflow:"visible",transformStyle:"preserve-3d",perspective:1600}),punchgs.TweenLite.set(r,{force3D:"auto",transformOrigin:"50% 50%"}),punchgs.TweenLite.set(a,{force3D:"auto",transformOrigin:"50% 50%",zIndex:5}),punchgs.TweenLite.set(t.ul,{transformStyle:"preserve-3d",transformPerspective:1600})}}if("stop"===r.compare_version(i).check)return!1;var o=t.parallax;if(!o.done){if(o.done=!0,a&&"on"==o.disable_onmobile)return!1;"3D"!=o.type&&"3d"!=o.type||(punchgs.TweenLite.set(t.c,{overflow:o.ddd_overflow}),punchgs.TweenLite.set(t.ul,{overflow:o.ddd_overflow}),"carousel"!=t.sliderType&&"on"==o.ddd_shadow&&(t.c.prepend('<div class="dddwrappershadow"></div>'),punchgs.TweenLite.set(t.c.find(".dddwrappershadow"),{force3D:"auto",transformPerspective:1600,transformOrigin:"50% 50%",width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:0}))),t.li.each(function(){l(jQuery(this))}),("3D"==o.type||"3d"==o.type)&&t.c.find(".tp-static-layers").length>0&&(punchgs.TweenLite.set(t.c.find(".tp-static-layers"),{top:0,left:0,width:"100%",height:"100%"}),l(t.c.find(".tp-static-layers"))),o.pcontainers=[],o.pcontainer_depths=[],o.bgcontainers=[],o.bgcontainer_depths=[],t.c.find(".tp-revslider-slidesli .slotholder, .tp-revslider-slidesli .rs-background-video-layer").each(function(){var e=jQuery(this),r=e.data("bgparallax")||t.parallax.bgparallax;void 0!==(r="on"==r?1:r)&&"off"!==r&&(o.bgcontainers.push(e),o.bgcontainer_depths.push(t.parallax.levels[parseInt(r,0)-1]/100))});for(var s=1;s<=o.levels.length;s++)t.c.find(".rs-parallaxlevel-"+s).each(function(){var e=jQuery(this).closest(".tp-parallax-wrap");e.data("parallaxlevel",o.levels[s-1]),e.addClass("tp-parallax-container"),o.pcontainers.push(e),o.pcontainer_depths.push(o.levels[s-1])});"mouse"!=o.type&&"scroll+mouse"!=o.type&&"mouse+scroll"!=o.type&&"3D"!=o.type&&"3d"!=o.type||(e.mouseenter(function(t){var r=e.find(".active-revslide"),a=e.offset().top,i=e.offset().left,l=t.pageX-i,o=t.pageY-a;r.data("enterx",l),r.data("entery",o)}),e.on("mousemove.hoverdir, mouseleave.hoverdir, trigger3dpath",function(r,a){var i=a&&a.li?a.li:e.find(".active-revslide");if("enterpoint"==o.origo){var l=e.offset().top,s=e.offset().left;void 0==i.data("enterx")&&i.data("enterx",r.pageX-s),void 0==i.data("entery")&&i.data("entery",r.pageY-l);var n=i.data("enterx")||r.pageX-s,d=i.data("entery")||r.pageY-l,p=n-(r.pageX-s),c=d-(r.pageY-l),$=o.speed/1e3||.4}else var l=e.offset().top,s=e.offset().left,p=t.conw/2-(r.pageX-s),c=t.conh/2-(r.pageY-l),$=o.speed/1e3||3;"mouseleave"==r.type&&(p=o.ddd_lasth||0,c=o.ddd_lastv||0,$=1.5);for(var f=0;f<o.pcontainers.length;f++){var v=o.pcontainers[f],w=o.pcontainer_depths[f],h="3D"==o.type||"3d"==o.type?w/200:w/100,u=p*h,y=c*h;"scroll+mouse"==o.type||"mouse+scroll"==o.type?punchgs.TweenLite.to(v,$,{force3D:"auto",x:u,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(v,$,{force3D:"auto",x:u,y:y,ease:punchgs.Power3.easeOut,overwrite:"all"})}if("3D"==o.type||"3d"==o.type){var g=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer";"carousel"===t.sliderType&&(g=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer"),t.c.find(g).each(function(){var e=jQuery(this),a=o.levels[o.levels.length-1]/200,i=p*a,l=c*a,s=0==t.conw?0:Math.round(p/t.conw*a*100)||0,n=0==t.conh?0:Math.round(c/t.conh*a*100)||0,d=e.closest("li"),f=0,v=!1;e.hasClass("dddwrapper-layer")&&(f=o.ddd_z_correction||65,v=!0),e.hasClass("dddwrapper-layer")&&(i=0,l=0),d.hasClass("active-revslide")||"carousel"!=t.sliderType?"on"!=o.ddd_bgfreeze||v?punchgs.TweenLite.to(e,$,{rotationX:n,rotationY:-s,x:i,z:f,y:l,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,x:0,y:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}),"mouseleave"==r.type&&punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})})}}),a&&(window.ondeviceorientation=function(r){var a=Math.round(r.beta||0)-70,i=Math.round(r.gamma||0),l=e.find(".active-revslide");if(jQuery(window).width()>jQuery(window).height()){var s=i;i=a,a=s}var n=e.width(),d=e.height(),p=360/n*i,c=180/d*a,$=o.speed/1e3||3,f=[];if(l.find(".tp-parallax-container").each(function(e){f.push(jQuery(this))}),e.find(".tp-static-layers .tp-parallax-container").each(function(){f.push(jQuery(this))}),jQuery.each(f,function(){var e=jQuery(this),t=parseInt(e.data("parallaxlevel"),0)/100;punchgs.TweenLite.to(e,$,{force3D:"auto",x:p*t*2,y:c*t*4,ease:punchgs.Power3.easeOut,overwrite:"all"})}),"3D"==o.type||"3d"==o.type){var v=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer";"carousel"===t.sliderType&&(v=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer"),t.c.find(v).each(function(){var e=jQuery(this),a=o.levels[o.levels.length-1]/200,i=p*a,l=c*a*3,s=0==t.conw?0:Math.round(p/t.conw*a*500)||0,n=0==t.conh?0:Math.round(c/t.conh*a*700)||0,d=e.closest("li"),f=0,v=!1;e.hasClass("dddwrapper-layer")&&(f=o.ddd_z_correction||65,v=!0),e.hasClass("dddwrapper-layer")&&(i=0,l=0),d.hasClass("active-revslide")||"carousel"!=t.sliderType?"on"!=o.ddd_bgfreeze||v?punchgs.TweenLite.to(e,$,{rotationX:n,rotationY:-s,x:i,z:f,y:l,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,z:0,x:0,y:0,rotationX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}),"mouseleave"==r.type&&punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})})}}));var n=t.scrolleffect;if(n.bgs=[],n.on){if("on"===n.on_slidebg)for(var s=0;s<t.allslotholder.length;s++)n.bgs.push(t.allslotholder[s]);n.multiplicator_layers=parseFloat(n.multiplicator_layers),n.multiplicator=parseFloat(n.multiplicator)}void 0!==n.layers&&0===n.layers.length&&(n.layers=!1),void 0!==n.bgs&&0===n.bgs.length&&(n.bgs=!1),r.scrollTicker(t,e)}},scrollTicker:function(e,t){1!=e.scrollTicker&&(e.scrollTicker=!0,a?(punchgs.TweenLite.ticker.fps(150),punchgs.TweenLite.ticker.addEventListener("tick",function(){r.scrollHandling(e)},t,!1,1)):document.addEventListener("scroll",function(t){r.scrollHandling(e,!0)},{passive:!0})),r.scrollHandling(e,!0)},scrollHandling:function(e,i,l){if(e.lastwindowheight=e.lastwindowheight||window.innerHeight,e.conh=0===e.conh||void 0===e.conh?e.infullscreenmode?e.minHeight:e.c.height():e.conh,e.lastscrolltop==window.scrollY&&!e.duringslidechange&&!i)return!1;punchgs.TweenLite.delayedCall(.2,t,[e,window.scrollY]);var o=e.c[0].getBoundingClientRect(),s=e.viewPort,n=e.parallax,d=o.top<0||o.height>e.lastwindowheight?o.top/o.height:o.bottom>e.lastwindowheight?(o.bottom-e.lastwindowheight)/o.height:0;if(e.scrollproc=d,r.callBackHandling&&r.callBackHandling(e,"parallax","start"),s.enable){var p=1-Math.abs(d);p=p<0?0:p,jQuery.isNumeric(s.visible_area)||-1!==s.visible_area.indexOf("%")&&(s.visible_area=parseInt(s.visible_area)/100),1-s.visible_area<=p?e.inviewport||(e.inviewport=!0,r.enterInViewPort(e)):e.inviewport&&(e.inviewport=!1,r.leaveViewPort(e))}if(a&&"on"==n.disable_onmobile)return!1;if("3d"!=n.type&&"3D"!=n.type){if(("scroll"==n.type||"scroll+mouse"==n.type||"mouse+scroll"==n.type)&&n.pcontainers){for(var c=0;c<n.pcontainers.length;c++)if(n.pcontainers[c].length>0){var $=n.pcontainers[c],f=Math.round(d*(-(n.pcontainer_depths[c]/100)*e.conh)*10)/10||0,v=void 0!==l?l:n.speedls/1e3||0;$.data("parallaxoffset",f),punchgs.TweenLite.to($,v,{overwrite:"auto",force3D:"auto",y:f})}}if(n.bgcontainers)for(var c=0;c<n.bgcontainers.length;c++){var w=n.bgcontainers[c],f=d*(-n.bgcontainer_depths[c]*e.conh)||0,v=void 0!==l?l:n.speedbg/1e3||0;punchgs.TweenLite.to(w,v,{position:"absolute",top:"0px",left:"0px",backfaceVisibility:"hidden",force3D:"true",y:f+"px"})}}var h=e.scrolleffect;if(h.on&&("on"!==h.disable_on_mobile||!a)){var u=Math.abs(d)-h.tilt/100;if(u=u<0?0:u,!1!==h.layers){var y=1-u*h.multiplicator_layers,g={backfaceVisibility:"hidden",force3D:"true",z:.001,perspective:600};if("top"==h.direction&&d>=0&&(y=1),"bottom"==h.direction&&d<=0&&(y=1),y=y>1?1:y<0?0:y,"on"===h.fade&&(g.opacity=y),"on"===h.scale){var b=y;g.scale=1-b+1}if("on"===h.blur){var _=(1-y)*h.maxblur;g["-webkit-filter"]="blur("+_+"px)",g.filter="blur("+_+"px)"}if("on"===h.grayscale){var x=100*(1-y),m="grayscale("+x+"%)";g["-webkit-filter"]=void 0===g["-webkit-filter"]?m:g["-webkit-filter"]+" "+m,g.filter=void 0===g.filter?m:g.filter+" "+m}punchgs.TweenLite.set(h.layers,g)}if(!1!==h.bgs){var y=1-u*h.multiplicator,g={backfaceVisibility:"hidden",force3D:"true"};if("top"==h.direction&&d>=0&&(y=1),"bottom"==h.direction&&d<=0&&(y=1),y=y>1?1:y<0?0:y,"on"===h.fade&&(g.opacity=y),"on"===h.scale){var b=y;punchgs.TweenLite.set(jQuery(".tp-kbimg-wrap"),{transformOrigin:"50% 50%",scale:b,force3D:!0})}if("on"===h.blur){var _=(1-y)*h.maxblur;g["-webkit-filter"]="blur("+_+"px)",g.filter="blur("+_+"px)"}if("on"===h.grayscale){var x=100*(1-y),m="grayscale("+x+"%)";g["-webkit-filter"]=void 0===g["-webkit-filter"]?m:g["-webkit-filter"]+" "+m,g.filter=void 0===g.filter?m:g.filter+" "+m}punchgs.TweenLite.set(h.bgs,g)}}r.callBackHandling&&r.callBackHandling(e,"parallax","end")}})}(jQuery);
