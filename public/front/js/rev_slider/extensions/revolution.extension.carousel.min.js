!function(e){"use strict";var i=jQuery.fn.revolution,t={alias:"Carousel Min JS",name:"revolution.extensions.carousel.min.js",min_core:"5.3.0",version:"1.2.1"};jQuery.extend(!0,i,{prepareCarousel:function(e,s,r,n){return"stop"!==i.compare_version(t).check&&(r=e.carousel.lastdirection=o(r,e.carousel.lastdirection),a(e),e.carousel.slide_offset_target=d(e),void(void 0!==n?l(e,r,!1,0):void 0==s?i.carouselToEvalPosition(e,r):l(e,r,!1)))},carouselToEvalPosition:function(e,t){var s=e.carousel;t=s.lastdirection=o(t,s.lastdirection);var a="center"===s.horizontal_align?(s.wrapwidth/2-s.slide_width/2-s.slide_globaloffset)/s.slide_width:(0-s.slide_globaloffset)/s.slide_width,r=i.simp(a,e.slideamount,!1),n=r-Math.floor(r),d=0;d=n>=.3&&"left"===t||n>=.7&&"right"===t?-1*(Math.ceil(r)-r):n<.3&&"left"===t||n<.7&&"right"===t?-1*(Math.floor(r)-r):d,d="off"===s.infinity?r<0?r:a>e.slideamount-1?a-(e.slideamount-1):d:d,s.slide_offset_target=d*s.slide_width,0!==Math.abs(s.slide_offset_target)?l(e,t,!0):i.organiseCarousel(e,t)},organiseCarousel:function(e,i,t,s){i=void 0===i||"down"==i||"up"==i||null===i||jQuery.isEmptyObject(i)?"left":i;for(var a=e.carousel,o=[],l=a.slides.length,r=("right"===a.horizontal_align&&e.width,0);r<l;r++){var n=r*a.slide_width+a.slide_offset;"on"===a.infinity&&(n=(n=n>a.wrapwidth-a.inneroffset&&"right"==i?a.slide_offset-(a.slides.length-r)*a.slide_width:n)<0-a.inneroffset-a.slide_width&&"left"==i?n+a.maxwidth:n),o[r]=n}var d=999;a.slides&&jQuery.each(a.slides,function(s,r){var n=o[s];"on"===a.infinity&&(n=(n=n>a.wrapwidth-a.inneroffset&&"left"===i?o[0]-(l-s)*a.slide_width:n)<0-a.inneroffset-a.slide_width?"left"==i?n+a.maxwidth:"right"===i?o[l-1]+(s+1)*a.slide_width:n:n);var f={};f.left=n+a.inneroffset;var w="center"===a.horizontal_align?(Math.abs(a.wrapwidth/2)-(f.left+a.slide_width/2))/a.slide_width:(a.inneroffset-f.left)/a.slide_width,h="center"===a.horizontal_align?2:1;if((t&&Math.abs(w)<d||0===w)&&(d=Math.abs(w),a.focused=s),f.width=a.slide_width,f.x=0,f.transformPerspective=1200,f.transformOrigin="50% "+a.vertical_align,"on"===a.fadeout){if("on"===a.vary_fade)f.autoAlpha=1-Math.abs(1/Math.ceil(a.maxVisibleItems/h)*w);else switch(a.horizontal_align){case"center":f.autoAlpha=Math.abs(w)<Math.ceil(a.maxVisibleItems/h-1)?1:1-(Math.abs(w)-Math.floor(Math.abs(w)));break;case"left":f.autoAlpha=w<1&&w>0?1-w:Math.abs(w)>a.maxVisibleItems-1?1-(Math.abs(w)-(a.maxVisibleItems-1)):1;break;case"right":f.autoAlpha=w>-1&&w<0?1-Math.abs(w):w>a.maxVisibleItems-1?1-(Math.abs(w)-(a.maxVisibleItems-1)):1}}else f.autoAlpha=Math.abs(w)<Math.ceil(a.maxVisibleItems/h)?1:0;void 0!==a.minScale&&a.minScale>0&&("on"===a.vary_scale?(f.scale=1-Math.abs(a.minScale/100/Math.ceil(a.maxVisibleItems/h)*w),a.slide_width,a.slide_width,f.scale):(f.scale=w>=1||w<=-1?1-a.minScale/100:(100-a.minScale*Math.abs(w))/100,a.slide_width,a.slide_width,a.minScale)),void 0!==a.maxRotation&&0!=Math.abs(a.maxRotation)&&("on"===a.vary_rotation?(f.rotationY=Math.abs(a.maxRotation)-Math.abs((1-Math.abs(1/Math.ceil(a.maxVisibleItems/h)*w))*a.maxRotation),f.autoAlpha=Math.abs(f.rotationY)>90?0:f.autoAlpha):f.rotationY=w>=1||w<=-1?a.maxRotation:Math.abs(w)*a.maxRotation,f.rotationY=w<0?-1*f.rotationY:f.rotationY),f.x=-1*a.space*w,f.left=Math.floor(f.left),f.x=Math.floor(f.x),!1!==f.scale,f.x,f.zIndex=Math.round(100-Math.abs(5*w)),f.transformStyle="3D"!=e.parallax.type&&"3d"!=e.parallax.type?"flat":"preserve-3d",punchgs.TweenLite.set(r,f)}),s&&(e.c.find(".next-revslide").removeClass("next-revslide"),jQuery(a.slides[a.focused]).addClass("next-revslide"),e.c.trigger("revolution.nextslide.waiting")),a.wrapwidth,a.slide_offset,a.maxwidth,a.slide_offset,a.wrapwidth}});var s=function(e){var i=e.carousel;i.infbackup=i.infinity,i.maxVisiblebackup=i.maxVisibleItems,i.slide_globaloffset="none",i.slide_offset=0,i.wrap=e.c.find(".tp-carousel-wrapper"),i.slides=e.c.find(".tp-revslider-slidesli"),0!==i.maxRotation&&("3D"!=e.parallax.type&&"3d"!=e.parallax.type?punchgs.TweenLite.set(i.wrap,{perspective:1200,transformStyle:"flat"}):punchgs.TweenLite.set(i.wrap,{perspective:1600,transformStyle:"preserve-3d"})),void 0!==i.border_radius&&parseInt(i.border_radius,0)>0&&punchgs.TweenLite.set(e.c.find(".tp-revslider-slidesli"),{borderRadius:i.border_radius})},a=function(e){void 0===e.bw&&i.setSize(e);var t=e.carousel,a=i.getHorizontalOffset(e.c,"left"),o=i.getHorizontalOffset(e.c,"right");void 0===t.wrap&&s(e),t.slide_width="on"!==t.stretch?e.gridwidth[e.curWinRange]*e.bw:e.c.width(),t.maxwidth=e.slideamount*t.slide_width,t.maxVisiblebackup>t.slides.length+1&&(t.maxVisibleItems=t.slides.length+2),t.wrapwidth=t.maxVisibleItems*t.slide_width+(t.maxVisibleItems-1)*t.space,t.wrapwidth="auto"!=e.sliderLayout?t.wrapwidth>e.c.closest(".tp-simpleresponsive").width()?e.c.closest(".tp-simpleresponsive").width():t.wrapwidth:t.wrapwidth>e.ul.width()?e.ul.width():t.wrapwidth,t.infinity=t.wrapwidth>=t.maxwidth?"off":t.infbackup,t.wrapoffset="center"===t.horizontal_align?(e.c.width()-o-a-t.wrapwidth)/2:0,t.wrapoffset="auto"!=e.sliderLayout&&e.outernav?0:t.wrapoffset<a?a:t.wrapoffset;var l="hidden";"3D"!=e.parallax.type&&"3d"!=e.parallax.type||(l="visible"),"right"===t.horizontal_align?punchgs.TweenLite.set(t.wrap,{left:"auto",right:t.wrapoffset+"px",width:t.wrapwidth,overflow:l}):punchgs.TweenLite.set(t.wrap,{right:"auto",left:t.wrapoffset+"px",width:t.wrapwidth,overflow:l}),t.inneroffset="right"===t.horizontal_align?t.wrapwidth-t.slide_width:0,t.realoffset=Math.abs(t.wrap.position().left),t.windhalf=jQuery(window).width()/2},o=function(e,i){return null===e||jQuery.isEmptyObject(e)?i:void 0===e?"right":e},l=function(e,t,s,a){var l=e.carousel;t=l.lastdirection=o(t,l.lastdirection);var r={},n=s?punchgs.Power2.easeOut:l.easing;r.from=0,r.to=l.slide_offset_target,a=void 0===a?l.speed/1e3:a,a=s?.4:a,void 0!==l.positionanim&&l.positionanim.pause(),l.positionanim=punchgs.TweenLite.to(r,a,{from:r.to,onUpdate:function(){l.slide_offset=l.slide_globaloffset+r.from,l.slide_offset=i.simp(l.slide_offset,l.maxwidth),i.organiseCarousel(e,t,!1,!1)},onComplete:function(){l.slide_globaloffset="off"===l.infinity?l.slide_globaloffset+l.slide_offset_target:i.simp(l.slide_globaloffset+l.slide_offset_target,l.maxwidth),l.slide_offset=i.simp(l.slide_offset,l.maxwidth),i.organiseCarousel(e,t,!1,!0);var a=jQuery(e.li[l.focused]);e.c.find(".next-revslide").removeClass("next-revslide"),s&&i.callingNewSlide(e.c,a.data("index"))},ease:n})},r=function(e,i){return Math.abs(e)>Math.abs(i)?e>0?e-Math.abs(Math.floor(e/i)*i):e+Math.abs(Math.floor(e/i)*i):e},n=function(e,i,t){var t,s=i-e,a=i-t-e;return Math.abs(s=r(s,t))>Math.abs(a=r(a,t))?a:s},d=function(e){var t=0,s=e.carousel;if(void 0!==s.positionanim&&s.positionanim.kill(),"none"==s.slide_globaloffset)s.slide_globaloffset=t="center"===s.horizontal_align?s.wrapwidth/2-s.slide_width/2:0;else{s.slide_globaloffset=s.slide_offset,s.slide_offset=0;var a=e.c.find(".processing-revslide").index(),o="center"===s.horizontal_align?(s.wrapwidth/2-s.slide_width/2-s.slide_globaloffset)/s.slide_width:(0-s.slide_globaloffset)/s.slide_width;o=i.simp(o,e.slideamount,!1),a=(a=a>=0?a:e.c.find(".active-revslide").index())>=0?a:0,t="off"===s.infinity?o-a:-n(o,a,e.slideamount),t*=s.slide_width}return t}}(jQuery);
