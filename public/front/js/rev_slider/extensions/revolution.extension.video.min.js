!function(e){"use strict";var t=jQuery.fn.revolution,a=t.is_mobile(),i=(t.is_android(),{alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.8",version:"2.2.2"});function o(e){return null==e?-1:jQuery.isNumeric(e)?e:1<e.split(":").length?60*parseInt(e.split(":")[0],0)+parseInt(e.split(":")[1],0):e}jQuery.extend(!0,t,{preLoadAudio:function(e,a){if("stop"===t.compare_version(i).check)return!1;e.find(".tp-audiolayer").each(function(){var e=jQuery(this),i={};0===e.find("audio").length&&(i.src=null!=e.data("videomp4")?e.data("videomp4"):"",i.pre=e.data("videopreload")||"",void 0===e.attr("id")&&e.attr("audio-layer-"+Math.round(199999*Math.random())),i.id=e.attr("id"),i.status="prepared",i.start=jQuery.now(),i.waittime=1e3*e.data("videopreloadwait")||5e3,"auto"!=i.pre&&"canplaythrough"!=i.pre&&"canplay"!=i.pre&&"progress"!=i.pre||(void 0===a.audioqueue&&(a.audioqueue=[]),a.audioqueue.push(i),t.manageVideoLayer(e,a)))})},preLoadAudioDone:function(e,t,a){t.audioqueue&&0<t.audioqueue.length&&jQuery.each(t.audioqueue,function(t,i){e.data("videomp4")!==i.src||i.pre!==a&&"auto"!==i.pre||(i.status="loaded")})},resetVideo:function(e,i,d,r){var n=e.data();switch(n.videotype){case"youtube":n.player;try{if("on"==n.forcerewind){var l=-1==(v=o(e.data("videostartat"))),s=1===n.bgvideo||0<e.find(".tp-videoposter").length;null!=n.player&&(v=-1==v?0:v,n.player.seekTo(v),n.player.pauseVideo())}}catch(u){}0==e.find(".tp-videoposter").length&&1!==n.bgvideo&&!0!==d&&punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":var p=e.data("vimeoplayer");try{if("on"==n.forcerewind){var v=o(n.videostartat);l=-1==v,s=1===n.bgvideo||0<e.find(".tp-videoposter").length,(0!==(v=-1==v?0:v)&&!l||s)&&p.pause().then(function(){p.setCurrentTime(v)})}}catch(c){}0==e.find(".tp-videoposter").length&&1!==n.bgvideo&&!0!==d&&punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(a&&1==n.disablevideoonmobile)return!1;var m="html5"==n.audio?"audio":"video",f=e.find(m),g=f[0];if(punchgs.TweenLite.to(f,.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==n.forcerewind&&!e.hasClass("videoisplaying"))try{v=o(n.videostartat),g.currentTime=-1==v?0:v}catch(y){}("mute"==n.volume||t.lastToggleState(e.videomutetoggledby)||!0===i.globalmute)&&(g.muted=!0)}},isVideoMuted:function(e,t){var a=!1,i=e.data();switch(i.videotype){case"youtube":try{a=i.player.isMuted()}catch(o){}break;case"vimeo":try{"mute"==i.volume&&(a=!0)}catch(d){}break;case"html5":var r="html5"==i.audio?"audio":"video";e.find(r)[0].muted&&(a=!0)}return a},muteVideo:function(e,t){var a=e.data();switch(a.videotype){case"youtube":try{a.player.mute()}catch(i){}break;case"vimeo":try{var o=e.data("vimeoplayer");e.data("volume","mute"),o.setVolume(0)}catch(d){}break;case"html5":var r="html5"==a.audio?"audio":"video";e.find(r)[0].muted=!0}},unMuteVideo:function(e,t){if(!0!==t.globalmute){var a=e.data();switch(a.videotype){case"youtube":try{a.player.unMute()}catch(i){}break;case"vimeo":try{var o=e.data("vimeoplayer");e.data("volume","1"),o.setVolume(1)}catch(d){}break;case"html5":var r="html5"==a.audio?"audio":"video";e.find(r)[0].muted=!1}}},stopVideo:function(e,t){var a=e.data();switch(t.leaveViewPortBasedStop||(t.lastplayedvideos=[]),t.leaveViewPortBasedStop=!1,a.videotype){case"youtube":try{var i=a.player;if(2===i.getPlayerState()||5===i.getPlayerState())return;i.pauseVideo(),a.youtubepausecalled=!0,setTimeout(function(){a.youtubepausecalled=!1},80)}catch(o){console.log("Issue at YouTube Video Pause:"),console.log(o)}break;case"vimeo":try{e.data("vimeoplayer").pause(),a.vimeopausecalled=!0,setTimeout(function(){a.vimeopausecalled=!1},80)}catch(d){console.log("Issue at Vimeo Video Pause:"),console.log(d)}break;case"html5":var r="html5"==a.audio?"audio":"video",n=e.find(r),l=n[0];null!=n&&null!=l&&l.pause()}},playVideo:function(e,a){clearTimeout(e.data("videoplaywait"));var i=e.data();switch(i.videotype){case"youtube":if(0==e.find("iframe").length)e.append(e.data("videomarkup")),l(e,a,!0);else if(null!=i.player.playVideo){var r=o(e.data("videostartat")),n=i.player.getCurrentTime();1==e.data("nextslideatend-triggered")&&(n=-1,e.data("nextslideatend-triggered",0)),-1!=r&&n<r&&i.player.seekTo(r),!0!==i.youtubepausecalled&&i.player.playVideo()}else e.data("videoplaywait",setTimeout(function(){!0!==i.youtubepausecalled&&t.playVideo(e,a)},50));break;case"vimeo":if(0==e.find("iframe").length)e.removeData("vimeoplayer"),e.append(e.data("videomarkup")),l(e,a,!0);else if(e.hasClass("rs-apiready")){var s,u=e.find("iframe").attr("id");e.data("vimeoplayer")?s=e.data("vimeoplayer"):(s=new Vimeo.Player(u),e.data("vimeoplayer",s)),s.getPaused()?setTimeout(function(){var t=o(e.data("videostartat")),a=e.data("currenttime");a||(a=0),1==e.data("nextslideatend-triggered")&&(a=-1,e.data("nextslideatend-triggered",0)),-1!=t&&a<t&&s.setCurrentTime(t),s.play()},510):e.data("videoplaywait",setTimeout(function(){!0!==i.vimeopausecalled&&t.playVideo(e,a)},50))}else e.data("videoplaywait",setTimeout(function(){!0!==i.vimeopausecalled&&t.playVideo(e,a)},50));break;case"html5":var p,v,c,m="html5"==i.audio?"audio":"video",f=e.find(m),g=f[0];1!=f.parent().data("metaloaded")?d(g,"loadedmetadata",(p=e,t.resetVideo(p,a),g.play(),v=o(p.data("videostartat")),c=g.currentTime,void(1==p.data("nextslideatend-triggered")&&(c=-1,p.data("nextslideatend-triggered",0)),-1!=v&&c<v&&(g.currentTime=v)))):(g.play(),r=o(e.data("videostartat")),n=g.currentTime,1==e.data("nextslideatend-triggered")&&(n=-1,e.data("nextslideatend-triggered",0)),-1!=r&&n<r&&(g.currentTime=r))}},isVideoPlaying:function(e,t){var a=!1;return null!=t.playingvideos&&jQuery.each(t.playingvideos,function(t,i){e.attr("id")==i.attr("id")&&(a=!0)}),a},removeMediaFromList:function(e,t){c(e,t)},prepareCoveredVideo:function(e,a){if((!a.hasClass("tp-caption")||a.hasClass("coverscreenvideo"))&&(void 0===a.data("vimeoid")||void 0!==a.data("vimeoplayerloaded"))){var i={};i.ifr=a.find("iframe, video"),i.asp=a.data("aspectratio"),i.wa=i.asp.split(":")[0],i.ha=i.asp.split(":")[1],i.vd=i.wa/i.ha;var o="carousel"!==e.sliderType?e.conw:a.closest(".tp-revslider-slidesli").width();if(0===o||0===e.conh)return t.setSize(e),clearTimeout(i.ifr.data("resizelistener")),void i.ifr.data("resizelistener",setTimeout(function(){t.prepareCoveredVideo(e,a)},100));var d=o/e.conh,r=d/i.vd*100,n=i.vd/d*100;d>i.vd?punchgs.TweenLite.set(i.ifr,{height:r+"%",width:"100%",top:-(r-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.set(i.ifr,{width:n+"%",height:"100%",left:-(n-100)/2+"%",top:"0px",position:"absolute"}),i.ifr.hasClass("resizelistener")||(i.ifr.addClass("resizelistener"),jQuery(window).resize(function(){t.prepareCoveredVideo(e,a),clearTimeout(i.ifr.data("resizelistener")),i.ifr.data("resizelistener",setTimeout(function(){t.prepareCoveredVideo(e,a)},90))}))}},checkVideoApis:function(e,t,a){if(location.protocol,(null!=e.data("ytid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&(t.youtubeapineeded=!0),(null!=e.data("ytid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&0==a.addedyt){t.youtubestarttime=jQuery.now(),a.addedyt=1;var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0],d=!0;jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(d=!1)}),d&&o.parentNode.insertBefore(i,o)}if((null!=e.data("vimeoid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&(t.vimeoapineeded=!0),(null!=e.data("vimeoid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&0==a.addedvim){t.vimeostarttime=jQuery.now(),a.addedvim=1;var r=document.createElement("script");o=document.getElementsByTagName("script")[0],d=!0,r.src="https://player.vimeo.com/api/player.js",jQuery("head").find("*").each(function(){"https://player.vimeo.com/api/player.js"==jQuery(this).attr("src")&&(d=!1)}),d&&o.parentNode.insertBefore(r,o)}return a},manageVideoLayer:function(e,r,n,s){if("stop"===t.compare_version(i).check)return!1;var u=e.data(),v=u.videoattributes,c=u.ytid,m=u.vimeoid,f="auto"===u.videopreload||"canplay"===u.videopreload||"canplaythrough"===u.videopreload||"progress"===u.videopreload?"auto":u.videopreload,g=u.videomp4,y=u.videowebm,$=u.videoogv,h=u.allowfullscreenvideo,_=u.videocontrols,b="http",w="loop"==u.videoloop?"loop":"loopandnoslidestop"==u.videoloop?"loop":"",k=null!=g||null!=y?"html5":null!=c&&1<String(c).length?"youtube":null!=m&&1<String(m).length?"vimeo":"none",x="html5"==u.audio?"audio":"video",T="html5"==k&&0==e.find(x).length?"html5":"youtube"==k&&0==e.find("iframe").length?"youtube":"vimeo"==k&&0==e.find("iframe").length?"vimeo":"none";switch(w=!0===u.nextslideatend?"":w,u.videotype=k,T){case"html5":"controls"!=_&&(_=""),x="video","html5"==u.audio&&(x="audio",e.addClass("tp-audio-html5"));var V="";"video"===x&&(t.is_mobile()||t.isSafari11())&&("on"===u.autoplay||"true"===u.autoplay||!0===u.autoplay?V="muted playsinline autoplay":1!=u.videoinline&&"true"!==u.videoinline&&1!==u.videoinline||(V+=" playsinline"));var L="<"+x+" "+V+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+w+' preload="'+f+'">';"auto"==f&&(r.mediapreload=!0),"video"===x?(null!=y&&"firefox"==t.get_browser().toLowerCase()&&(L=L+'<source src="'+y+'" type="video/webm" />'),null!=g&&(L=L+'<source src="'+g+'" type="video/mp4" />'),null!=$&&(L=L+'<source src="'+$+'" type="video/ogg" />')):"audio"===x&&(null!=g&&(L=L+'<source src="'+g+'" type="audio/mpeg" />'),null!=$&&(L=L+'<source src="'+$+'" type="audio/ogg" />')),L=L+"</"+x+">";var C="";"true"!==h&&!0!==h||(C='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),"controls"==_&&(L=L+'<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+C+"</div>"),e.data("videomarkup",L),e.append(L),(a&&1==e.data("disablevideoonmobile")||t.isIE(8))&&e.find(x).remove(),e.find(x).each(function(a){var i,o=jQuery(this);o.parent().hasClass("html5vid")||o.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>'),1!=o.parent().data("metaloaded")&&d(this,"loadedmetadata",(p(i=e,r),void t.resetVideo(i,r)))});break;case"youtube":b="https","none"==_&&-1==(v=v.replace("controls=1","controls=0")).toLowerCase().indexOf("controls")&&(v+="&controls=0"),(!0===u.videoinline||"true"===u.videoinline||1===u.videoinline||e.hasClass("rs-background-video-layer")||"on"===e.data("autoplay"))&&(v+="&playsinline=1");var P=o(e.data("videostartat")),I=o(e.data("videoendat"));-1!=P&&(v=v+"&start="+P),-1!=I&&(v=v+"&end="+I);var S=v.split("origin="+b+"://"),A="";1<S.length?(A=S[0]+"origin="+b+"://",self.location.href.match(/www/gi)&&!S[1].match(/www/gi)&&(A+="www."),A+=S[1]):A=v,e.data("videomarkup",'<iframe type="text/html" src="'+b+"://www.youtube-nocookie.com/embed/"+c+"?"+A+'" '+("true"===h||!0===h?"allowfullscreen":"")+' width="100%" height="100%" style="opacity:0;width:100%;height:100%"></iframe>');break;case"vimeo":b="https",e.data("videomarkup",'<iframe src="'+b+"://player.vimeo.com/video/"+m+"?"+v+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>')}var O=a&&"on"==e.data("noposteronmobile");if(null!=u.videoposter&&2<u.videoposter.length&&!O)0==e.find(".tp-videoposter").length&&e.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+u.videoposter+'); background-size:cover;background-position:center center;"></div>'),0==e.find("iframe").length&&e.find(".tp-videoposter").click(function(){if(t.playVideo(e,r),a){if(1==e.data("disablevideoonmobile"))return!1;punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}});else{if(a&&1==e.data("disablevideoonmobile"))return!1;0!=e.find("iframe").length||"youtube"!=k&&"vimeo"!=k||(e.removeData("vimeoplayer"),e.append(e.data("videomarkup")),l(e,r,!1))}"none"!=e.data("dottedoverlay")&&null!=e.data("dottedoverlay")&&1!=e.find(".tp-dottedoverlay").length&&e.append('<div class="tp-dottedoverlay '+e.data("dottedoverlay")+'"></div>'),e.addClass("HasListener"),1==e.data("bgvideo")&&(e.data("ytid")?punchgs.TweenLite.set(e.find("iframe"),{opacity:0}):punchgs.TweenLite.set(e.find("video, iframe"),{autoAlpha:0}))}});var d=function(e,t,a){e.addEventListener?e.addEventListener(t,a,{capture:!1,passive:!0}):e.attachEvent(t,a,{capture:!1,passive:!0})},r=function(e,t,a){var i={};return i.video=e,i.videotype=t,i.settings=a,i},n=function(e,a){if(1==a.data("bgvideo")||1==a.data("forcecover")){1===a.data("forcecover")&&a.removeClass("fullscreenvideo").addClass("coverscreenvideo");var i=a.data("aspectratio");void 0===i&&i.split(":").length<=1&&a.data("aspectratio","16:9"),t.prepareCoveredVideo(e,a)}},l=function(e,i,d){var l=e.data(),p=e.find("iframe"),m="iframe"+Math.round(1e5*Math.random()+1),f=l.videoloop,g="loopandnoslidestop"!=f;if(f="loop"==f||"loopandnoslidestop"==f,n(i,e),p.attr("id",m),d&&e.data("startvideonow",!0),1!==e.data("videolistenerexist"))switch(l.videotype){case"youtube":var y=new YT.Player(m,{events:{onStateChange:function(a){var d=e.closest(".tp-simpleresponsive"),n=(l.videorate,e.data("videostart"),u());if(a.data==YT.PlayerState.PLAYING)punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==e.data("volume")||t.lastToggleState(e.data("videomutetoggledby"))||!0===i.globalmute?y.mute():(y.unMute(),y.setVolume(parseInt(e.data("volume"),0)||75)),i.videoplaying=!0,v(e,i),g?i.c.trigger("stoptimer"):i.videoplaying=!1,i.c.trigger("revolution.slide.onvideoplay",r(y,"youtube",e.data())),t.toggleState(l.videotoggledby);else{if(0==a.data&&f){var p=o(e.data("videostartat"));-1!=p&&y.seekTo(p),y.playVideo(),t.toggleState(l.videotoggledby)}n||0!=a.data&&2!=a.data||!("on"==e.data("showcoveronpause")&&0<e.find(".tp-videoposter").length||1===e.data("bgvideo")&&0<e.find(".rs-fullvideo-cover").length)||(1===e.data("bgvideo")?punchgs.TweenLite.to(e.find(".rs-fullvideo-cover"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(e.find(".tp-videoposter"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),-1!=a.data&&3!=a.data&&(i.videoplaying=!1,i.tonpause=!1,c(e,i),d.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",r(y,"youtube",e.data())),null!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||t.unToggleState(l.videotoggledby)),0==a.data&&1==e.data("nextslideatend")?(s(),e.data("nextslideatend-triggered",1),i.c.revnext(),c(e,i)):(c(e,i),i.videoplaying=!1,d.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",r(y,"youtube",e.data())),null!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||t.unToggleState(l.videotoggledby))}},onReady:function(i){var d,r=t.is_mobile(),n=e.hasClass("tp-videolayer");if(r||t.isSafari11()){var s=n&&"off"!==e.data("autoplay");(e.hasClass("rs-background-video-layer")||s)&&(r&&n||(d=!0,y.setVolume(0),e.data("volume","mute"),y.mute(),clearTimeout(e.data("mobilevideotimr")),e.data("mobilevideotimr",setTimeout(function(){y.playVideo()},500))))}d||"mute"!=e.data("volume")||(y.setVolume(0),y.mute());var u=l.videorate;if(e.data("videostart"),e.addClass("rs-apiready"),null!=u&&i.target.setPlaybackRate(parseFloat(u)),e.find(".tp-videoposter").unbind("click"),e.find(".tp-videoposter").click(function(){a||y.playVideo()}),e.data("startvideonow")){l.player.playVideo();var p=o(e.data("videostartat"));-1!=p&&l.player.seekTo(p)}e.data("videolistenerexist",1)}}});e.data("player",y);break;case"vimeo":for(var $,h=p.attr("src"),_={},b=h,w=/([^&=]+)=([^&]*)/g;$=w.exec(b);)_[decodeURIComponent($[1])]=decodeURIComponent($[2]);h=(h=null!=_.player_id?h.replace(_.player_id,m):h+"&player_id="+m).replace(/&api=0|&api=1/g,"");var k=t.is_mobile(),x=e.data("autoplay"),T=(e.data("volume"),k||t.isSafari11());e.hasClass("rs-background-video-layer"),(x="on"===x||"true"===x||!0===x)&&T&&(h+="?autoplay=1&autopause=0&muted=1&background=1&playsinline=1",e.data({vimeoplaysinline:!0,volume:"mute"})),p.attr("src",h),y=e.find("iframe")[0],jQuery("#"+m),e.data("vimeoplayer")?V=e.data("vimeoplayer"):(V=new Vimeo.Player(m),e.data("vimeoplayer",V)),V.on("loaded",function(t){var a={};V.getVideoWidth().then(function(t){a.width=t,void 0!==a.width&&void 0!==a.height&&(e.data("aspectratio",a.width+":"+a.height),e.data("vimeoplayerloaded",!0),n(i,e))}),V.getVideoHeight().then(function(t){a.height=t,void 0!==a.width&&void 0!==a.height&&(e.data("aspectratio",a.width+":"+a.height),e.data("vimeoplayerloaded",!0),n(i,e))})}),e.addClass("rs-apiready"),V.on("play",function(a){e.data("nextslidecalled",0),punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),i.c.trigger("revolution.slide.onvideoplay",r(V,"vimeo",e.data())),i.videoplaying=!0,v(e,i),g?i.c.trigger("stoptimer"):i.videoplaying=!1,e.data("vimeoplaysinline")||("mute"==e.data("volume")||t.lastToggleState(e.data("videomutetoggledby"))||!0===i.globalmute?V.setVolume(0):V.setVolume(parseInt(e.data("volume"),0)/100||.75),t.toggleState(l.videotoggledby))}),V.on("timeupdate",function(t){var a=o(e.data("videoendat"));if(e.data("currenttime",t.seconds),0!=a&&1>Math.abs(a-t.seconds)&&a>t.seconds&&1!=e.data("nextslidecalled")){if(f){V.play();var d=o(e.data("videostartat"));-1!=d&&V.setCurrentTime(d)}else 1==e.data("nextslideatend")&&(e.data("nextslideatend-triggered",1),e.data("nextslidecalled",1),i.c.revnext()),V.pause()}}),V.on("ended",function(a){c(e,i),i.videoplaying=!1,i.c.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",r(V,"vimeo",e.data())),1==e.data("nextslideatend")&&(e.data("nextslideatend-triggered",1),i.c.revnext()),null!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||t.unToggleState(l.videotoggledby)}),V.on("pause",function(a){("on"==e.data("showcoveronpause")&&0<e.find(".tp-videoposter").length||1===e.data("bgvideo")&&0<e.find(".rs-fullvideo-cover").length)&&(1===e.data("bgvideo")?punchgs.TweenLite.to(e.find(".rs-fullvideo-cover"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(e.find(".tp-videoposter"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),i.videoplaying=!1,i.tonpause=!1,c(e,i),i.c.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",r(V,"vimeo",e.data())),null!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||t.unToggleState(l.videotoggledby)}),e.find(".tp-videoposter").unbind("click"),e.find(".tp-videoposter").click(function(){if(!a)return V.play(),!1}),e.data("startvideonow")&&(V.play(),-1!=(L=o(e.data("videostartat")))&&V.setCurrentTime(L)),e.data("videolistenerexist",1)}else{var V,L=o(e.data("videostartat"));switch(l.videotype){case"youtube":d&&(l.player.playVideo(),-1!=L&&l.player.seekTo());break;case"vimeo":d&&((V=e.data("vimeoplayer")).play(),-1!=L&&V.seekTo(L))}}},s=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},u=function(){try{if(void 0!==window.fullScreen)return window.fullScreen;var e=5;return jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)&&(e=42),screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<e}catch(t){}},p=function(e,i,n){if(a&&1==e.data("disablevideoonmobile"))return!1;var l=e.data(),p="html5"==l.audio?"audio":"video",m=e.find(p),f=m[0],g=m.parent(),y=l.videoloop,$="loopandnoslidestop"!=y;if(y="loop"==y||"loopandnoslidestop"==y,g.data("metaloaded",1),1!=e.data("bgvideo")||"none"!==l.videoloop&&!1!==l.videoloop||($=!1),null==m.attr("control")&&(0!=e.find(".tp-video-play-button").length||a||e.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),e.find("video, .tp-poster, .tp-video-play-button").click(function(){e.hasClass("videoisplaying")?f.pause():f.play()})),1==e.data("forcecover")||e.hasClass("fullscreenvideo")||1==e.data("bgvideo")){if(1==e.data("forcecover")||1==e.data("bgvideo")){g.addClass("fullcoveredvideo");var h=e.data("aspectratio");void 0!==h&&1!=h.split(":").length||e.data("aspectratio","16:9"),t.prepareCoveredVideo(i,e)}else g.addClass("fullscreenvideo")}var _=e.find(".tp-vid-play-pause")[0],b=e.find(".tp-vid-mute")[0],w=e.find(".tp-vid-full-screen")[0],k=e.find(".tp-seek-bar")[0],x=e.find(".tp-volume-bar")[0];null!=_&&d(_,"click",function(){1==f.paused?f.play():f.pause()}),null!=b&&d(b,"click",function(){0==f.muted?(f.muted=!0,b.innerHTML="Unmute"):(f.muted=!1,b.innerHTML="Mute")}),null!=w&&w&&d(w,"click",function(){f.requestFullscreen?f.requestFullscreen():f.mozRequestFullScreen?f.mozRequestFullScreen():f.webkitRequestFullscreen&&f.webkitRequestFullscreen()}),null!=k&&(d(k,"change",function(){var e=f.duration*(k.value/100);f.currentTime=e}),d(k,"mousedown",function(){e.addClass("seekbardragged"),f.pause()}),d(k,"mouseup",function(){e.removeClass("seekbardragged"),f.play()})),d(f,"canplaythrough",function(){t.preLoadAudioDone(e,i,"canplaythrough")}),d(f,"canplay",function(){t.preLoadAudioDone(e,i,"canplay")}),d(f,"progress",function(){t.preLoadAudioDone(e,i,"progress")}),d(f,"timeupdate",function(){var t=100/f.duration*f.currentTime,a=o(e.data("videoendat")),d=f.currentTime;if(null!=k&&(k.value=t),0!=a&&-1!=a&&.3>=Math.abs(a-d)&&d<a&&1!=e.data("nextslidecalled")){if(y){f.play();var r=o(e.data("videostartat"));-1!=r&&(f.currentTime=r)}else 1==e.data("nextslideatend")&&(e.data("nextslideatend-triggered",1),e.data("nextslidecalled",1),i.just_called_nextslide_at_htmltimer=!0,i.c.revnext(),setTimeout(function(){i.just_called_nextslide_at_htmltimer=!1},1e3)),f.pause()}}),null!=x&&d(x,"change",function(){f.volume=x.value}),d(f,"play",function(){e.data("nextslidecalled",0);var a=e.data("volume");a=null!=a&&"mute"!=a?parseFloat(a)/100:a,t.is_mobile()||t.isSafari11()||(!0===i.globalmute?f.muted=!0:f.muted=!1,1<a&&(a/=100),"mute"==a?f.muted=!0:null!=a&&(f.volume=a)),e.addClass("videoisplaying");var o="html5"==l.audio?"audio":"video";v(e,i),$&&"audio"!=o?(i.videoplaying=!0,i.c.trigger("stoptimer"),i.c.trigger("revolution.slide.onvideoplay",r(f,"html5",l))):(i.videoplaying=!1,"audio"!=o&&i.c.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",r(f,"html5",l))),punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find(o),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var d=e.find(".tp-vid-play-pause")[0],n=e.find(".tp-vid-mute")[0];null!=d&&(d.innerHTML="Pause"),null!=n&&f.muted&&(n.innerHTML="Unmute"),t.toggleState(l.videotoggledby)}),d(f,"pause",function(a){var o="html5"==l.audio?"audio":"video";u()||!(0<e.find(".tp-videoposter").length)||"on"!=e.data("showcoveronpause")||e.hasClass("seekbardragged")||(punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find(o),.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),e.removeClass("videoisplaying"),i.videoplaying=!1,c(e,i),"audio"!=o&&i.c.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",r(f,"html5",e.data()));var d=e.find(".tp-vid-play-pause")[0];null!=d&&(d.innerHTML="Play"),null!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||t.unToggleState(l.videotoggledby)}),d(f,"ended",function(){s(),c(e,i),i.videoplaying=!1,c(e,i),"audio"!=p&&i.c.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",r(f,"html5",e.data())),!0===e.data("nextslideatend")&&0<f.currentTime&&(1==!i.just_called_nextslide_at_htmltimer&&(e.data("nextslideatend-triggered",1),i.c.revnext(),i.just_called_nextslide_at_htmltimer=!0),setTimeout(function(){i.just_called_nextslide_at_htmltimer=!1},1500)),e.removeClass("videoisplaying")})},v=function(e,a){null==a.playingvideos&&(a.playingvideos=[]),e.data("stopallvideos")&&null!=a.playingvideos&&0<a.playingvideos.length&&(a.lastplayedvideos=jQuery.extend(!0,[],a.playingvideos),jQuery.each(a.playingvideos,function(e,i){t.stopVideo(i,a)})),a.playingvideos.push(e),a.currentLayerVideoIsPlaying=e},c=function(e,t){null!=t.playingvideos&&0<=jQuery.inArray(e,t.playingvideos)&&t.playingvideos.splice(jQuery.inArray(e,t.playingvideos),1)}}(jQuery);
